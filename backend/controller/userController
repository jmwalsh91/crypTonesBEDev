const express = require('express')
/* const  = require('../models/products') */
const router = express.Router()
const mongoose = require('mongoose')
const axios = require('axios').default;
const _ = require('lodash')



const axiosUser = axios.create({
    baseURL: 'https://www.alphavantage.co/query?function=CRYPTO_INTRADAY',
    timeout: 10000,
  });
  

    
axiosUser.interceptors.response.use(response => { console.log('oh hi')})


   router.get('/user/:id', (req, res, err) => {
    axiosCryptAlpha.get( '', {
        params: {
            symbol: 'BTC',
            market: 'USD',
            interval: '5min',
            apikey: 'CQGAUB8UWNFMD2AJ'
        }      
    })
    .then(data => {
        console.log(data)
        res.send(data)
    })
    .catch((err) => console.log(err))
})



module.exports = router 